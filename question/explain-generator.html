<h1>EXPLANATION GENERATOR</h1>
<textarea hidden id="headings">
  Analogy, provide opposite analogy, Grand scheme relationship
  Diagram and Animation, Visualization Stage
  Explanation
  Plain English
  Technical, converse, not or opposite
  Extreme Example
  Summary
  </textarea>

<textarea hidden id="analogyGroup">
analogy
  physics
    light
    colors
    heat
    mechanics
    electric
    gravity
    sound
  chemistry
    states of matter
    atoms
    planets
    oceans
    clouds
  biology
    minerals
    plants
    animals
  sociology
    king
    captain
  technology
    house
    martial arts
    weapons
    cars</textarea>
<textarea hidden id="teg">
analogy
  gold
    bright
    shiny
      red
      blue
        light
        dark
          sea
          ocean
  silver
    dull
  </textarea>



<script>



  // let teg = document.getElementById("teg").value
  // const re = new RegExp(`\\n${((" ").repeat(tab))}(?=\\w)`)
  // let arr = teg.split(re)
  // arr[1] = arr.filter((x,i)=> i != 0)
  // (2)Â ['gold\n bright\n shiny', 'silver\n dull\n ']

  function sto(str) {
    if (str.split(re) == 1) {
      return str
    }
    return
  }



  let headings = document.getElementById("headings").value
  let analogyGroup = document.getElementById("analogyGroup").value
  let teg = document.getElementById("teg").value
  let tab = 2
  const re = new RegExp(`\\n${((" ").repeat(tab))}(?=\\w)`)


  function strToArr(str, tab = 2) {

    // \n  (if letter)
    const regex = new RegExp(`\\n${((" ").repeat(tab))}(?=\\w)`)

    if (str.split(regex).length == 1) {
      return str
    }
    else {
      let arr = str.split(regex)

      return arr.map(x => strToArr(x, tab + 2))
    }

  }


  // Object.fromEntries([arr])
  // [[a[0],[a.slice(1)]]]

  function arrToObj(arr) {

    if (Array.isArray(arr) && !arr.some(x => Array.isArray(x))) {
      return Object.fromEntries([arr])
    }
    else {
      return Object.fromEntries([
        [arr[0],
        arr
          .filter((x, i) => i != 0)
          .map(x => Array.isArray(x) ? arrToObj(x) : x)]
      ])
    }

  }

  // Object.fromEntries()
  // .map((x,i,a) => Array.isArray(x) ? arrToObj(x) : x)

  let keg = strToArr(teg)
  let deg = arrToObj(keg)

  let content = []
  headings.split("\n").forEach(x => content.push(`<h2>${x}</h2>`))
  document.body.innerHTML = content.join("\n")
</script>
